# AuthKit

Authentification and RBAC module for Spring Boot 2 (Java 11).

It's still in alpha.

![Java CI with Maven](https://github.com/hdsdi3g/authkit/workflows/Java%20CI%20with%20Maven/badge.svg)

---

AuthKit provide a **backend API-only** with:

- User/Group/Role/Right (access to a controller)/Right Context (access context limitation for a controller) as RBAC objects
- Cookie-less and persistence-less session based on JSON web tokens
- 2 factors auth (TOTP)
- Login by Active Directory via an LDAP auth
- A Role can exige a specific IP address before it enable during a request
- Data persitance with the help of an MySQL database (via Hibernate)
- Strongly tested by integration tests
- An internal and systematic audit system for trace any security/logon actions
- A ciphered and isolated table for storing personal informations (privacy). An user is only referenced by it's autogenerated UUID, and the username (login name) is only manipulated during logon operations.

AuthKit don't use Spring Security functions.

It's use Liquibase for setup/upgrate database via [setupdb](https://github.com/hdsdi3g/setupdb-maven-plugin).

See SECURITY.md for all security relative questions.

## Built With

- Java 11
- SpringBoot, with Web, Thymeleaf, Configuration, JPA, LDAP
- Apache log4j2, commons
- jsonwebtoken.io jjwt
- mkammerer.de Argon2
- Junit 5 Jupiter
- MySQL Client Connector
- Hibernate
- Google Zxing (QR code generator) use by TOTP functions
- Edin Dazdarevic CIDRUtils
- Liquibase for handle database structure updates

See pom.xml file for more details.

## Setup

For requirement and setup, INSTALL.md.

## Contributing / debugging

For run the tests, you needs Maven, a fully setup database and an valid application.yml (more precisely a valid Spring Boot configuration file).

The new code quality must be checked by SonarQube and should never have a bad note.

Versioning: just use [SemVer](https://semver.org/).

## Roadmap

Principaly renforce and stabilize actual functions.

Some functions maybe added like:

- Connected user send Reset Password order (via a mail), and reset it.
- Connected user can send invitations to simplifiy new user operations (supported by some specific tokens, and the mail send).
- Better LDAP tools with account synchonisation
- a dedicated Front-end to edit RBAC rights
- A token type dedicated for API access (no-expiration token)
- Search user API

## Author and License

This project is writer by [hdsdi3g](https://github.com/hdsdi3g) and licensed under the LGPL License; see the LICENCE.TXT file for details.
